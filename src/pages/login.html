<template>
	<require from="../components/user-name"></require>

	<h2>Log in.</h2>
	<hr />
	<div class="col-xs-6">
		<section>
			<h4>Guess access.</h4>
			<hr>
			<span if.bind="!providers">loading...</span>
			<form class="form-horizontal" if.bind="providers">
				<div class="form-group">
					<label class="col-xs-3 control-label" for="userName"></label>
					<user-name class="col-xs-9"></user-name>
					<span class="help-block">
            			${error.message}
        			<span>
				</div>
				<div class="form-group">
					<div class="col-xs-offset-3 col-xs-9">
						<input type="submit" value="Log in" class="btn btn-default" click.delegate="login(userName)" />
					</div>
				</div>
			</form>
		</section>
	</div>
	<div class="col-xs-6">
		<section>
			<h4>Use another service to log in.</h4>
			<hr>
			<form class="form-horizontal" role="form" method="post" action.bind="externalLogin">
				<div>
					<p>
						<button type="submit" class="btn btn-default" name="provider" repeat.for="provider of providers" value.bind="provider.authenticationScheme" title="Log in using your ${provider.displayName} account">${provider.displayName}</button>
					</p>
				</div>
				<input name="__RequestVerificationToken" type="hidden" value.bind="token"></form>
		</section>
	</div>
</template>